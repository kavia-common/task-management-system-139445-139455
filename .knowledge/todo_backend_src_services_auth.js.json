{"is_source_file": true, "format": "JavaScript", "description": "This file defines authentication services including user registration and login, utilizing modules for cryptographic hashing, JSON Web Token management, and datastore interactions.", "external_files": ["../config/env", "../models/datastore"], "external_methods": ["getConfig", "findUserByEmail", "createUser"], "published": ["register", "login"], "classes": [], "methods": [{"name": "hashPassword(password)", "description": "Hashes a password using SHA-256 algorithm; intended for demo purposes.", "scope": "", "scopeKind": ""}, {"name": "verifyPassword(password, passwordHash)", "description": "Verifies a password against its hash.", "scope": "", "scopeKind": ""}, {"name": "signToken(user)", "description": "Generates a JSON Web Token for a user with configured expiry.", "scope": "", "scopeKind": ""}, {"name": "register({ email, password, name })", "description": "Registers a new user, creating a user record and returning an auth token.", "scope": "", "scopeKind": ""}, {"name": "login({ email, password })", "description": "Authenticates a user and returns a JWT token if credentials are valid.", "scope": "", "scopeKind": ""}], "calls": ["require('crypto')", "require('jsonwebtoken')", "getConfig()", "findUserByEmail(email)", "createUser({ email, passwordHash, name })", "jwt.sign(payload, cfg.auth.jwtSecret, { expiresIn })"], "search-terms": ["auth", "JWT", "user registration", "password hashing", "authentication service"], "state": 2, "file_id": 15, "knowledge_revision": 32, "git_revision": "", "ctags": [{"_type": "tag", "name": "crypto", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/services/auth.js", "pattern": "/^const crypto = require('crypto');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/services/auth.js", "pattern": "/^    email: user.email,$/", "language": "JavaScript", "kind": "property", "scope": "signToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "hashPassword", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/services/auth.js", "pattern": "/^function hashPassword(password) {$/", "language": "JavaScript", "kind": "function", "signature": "(password)"}, {"_type": "tag", "name": "jwt", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/services/auth.js", "pattern": "/^const jwt = require('jsonwebtoken');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/services/auth.js", "pattern": "/^async function login({ email, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ email, password })"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/services/auth.js", "pattern": "/^    name: user.name,$/", "language": "JavaScript", "kind": "property", "scope": "signToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/services/auth.js", "pattern": "/^  const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "signToken", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/services/auth.js", "pattern": "/^  register,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/services/auth.js", "pattern": "/^async function register({ email, password, name }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ email, password, name })"}, {"_type": "tag", "name": "signToken", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/services/auth.js", "pattern": "/^function signToken(user) {$/", "language": "JavaScript", "kind": "function", "signature": "(user)"}, {"_type": "tag", "name": "sub", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/services/auth.js", "pattern": "/^    sub: user.id,$/", "language": "JavaScript", "kind": "property", "scope": "signToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "verifyPassword", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/services/auth.js", "pattern": "/^function verifyPassword(password, passwordHash) {$/", "language": "JavaScript", "kind": "function", "signature": "(password, passwordHash)"}], "hash": "02c8fffff7627e4a2940f4dc5b696b02", "format-version": 4, "code-base-name": "todo_backend", "filename": "todo_backend/src/services/auth.js", "fields": [{"name": "email: user.email,", "scope": "signToken.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "name: user.name,", "scope": "signToken.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "register,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "sub: user.id,", "scope": "signToken.payload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"32": ""}]}