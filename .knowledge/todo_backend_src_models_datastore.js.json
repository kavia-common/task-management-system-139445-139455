{"is_source_file": true, "format": "JavaScript", "description": "This file implements an in-memory data store for managing users and todo items, including functions for creating, retrieving, updating, deleting, and listing todos and users.", "external_files": ["crypto"], "external_methods": ["require('crypto').createHash"], "published": ["createUser", "findUserByEmail", "findUserById", "createTodo", "updateTodo", "deleteTodo", "getTodo", "listTodos", "seedDemo"], "classes": [], "methods": [{"name": "createUser({ email, passwordHash, name })", "description": "Creates a new user with email, password hash, and optional name, assigning a unique ID and timestamps.", "scope": "", "scopeKind": ""}, {"name": "findUserByEmail(email)", "description": "Finds a user object by their email address, case-insensitive.", "scope": "", "scopeKind": ""}, {"name": "findUserById(id)", "description": "Retrieves a user object by their unique ID.", "scope": "", "scopeKind": ""}, {"name": "createTodo({ title, description = '', completed = false, userId, dueDate = null, priority = 'normal' })", "description": "Creates a new todo item with specified details and associates it with a user.", "scope": "", "scopeKind": ""}, {"name": "updateTodo(id, userId, updates)", "description": "Updates an existing todo item if it belongs to the specified user, returning the updated object.", "scope": "", "scopeKind": ""}, {"name": "deleteTodo(id, userId)", "description": "Deletes a todo item if it belongs to the specified user, returning success boolean.", "scope": "", "scopeKind": ""}, {"name": "getTodo(id, userId)", "description": "Retrieves a specific todo item if owned by the given user.", "scope": "", "scopeKind": ""}, {"name": "listTodos(userId, { completed, search, priority } = {})", "description": "Lists todos for a user with optional filters: completed status, search term, and priority, sorted by most recent update.", "scope": "", "scopeKind": ""}, {"name": "seedDemo()", "description": "Seeds default demo user and todo for development mode if none exist.", "scope": "", "scopeKind": ""}], "calls": ["require('crypto').createHash('sha256')"], "search-terms": ["in-memory datastore", "user management", "todo CRUD", "seed demo", "Maps for storage"], "state": 2, "file_id": 14, "knowledge_revision": 28, "git_revision": "", "ctags": [{"_type": "tag", "name": "createTodo", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^function createTodo({ title, description = '', completed = false, userId, dueDate = null, priori/", "language": "JavaScript", "kind": "function", "signature": "({ title, description = '', completed = false, userId, dueDate = null, priority = 'normal' })"}, {"_type": "tag", "name": "createUser", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^  createUser,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "createUser", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^function createUser({ email, passwordHash, name }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ email, passwordHash, name })"}, {"_type": "tag", "name": "crypto", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^const crypto = require('crypto');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "deleteTodo", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^function deleteTodo(id, userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, userId)"}, {"_type": "tag", "name": "findUserByEmail", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^function findUserByEmail(email) {$/", "language": "JavaScript", "kind": "function", "signature": "(email)"}, {"_type": "tag", "name": "findUserById", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^function findUserById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getTodo", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^function getTodo(id, userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, userId)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^    id,$/", "language": "JavaScript", "kind": "field", "scope": "createTodo.todo", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^    id,$/", "language": "JavaScript", "kind": "field", "scope": "createUser.user", "scopeKind": "class"}, {"_type": "tag", "name": "listTodos", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^function listTodos(userId, { completed, search, priority } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, { completed, search, priority } = {})"}, {"_type": "tag", "name": "seedDemo", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^function seedDemo() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "todoIdSeq", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^let todoIdSeq = 1;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "todos", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^const todos = new Map(); \\/\\/ id -> todo$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateTodo", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^function updateTodo(id, userId, updates) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, userId, updates)"}, {"_type": "tag", "name": "userIdSeq", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^let userIdSeq = 1;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "users", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^const users = new Map(); \\/\\/ id -> user$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "usersByEmail", "path": "/home/kavia/workspace/code-generation/task-management-system-139445-139455/todo_backend/src/models/datastore.js", "pattern": "/^const usersByEmail = new Map(); \\/\\/ email -> id$/", "language": "JavaScript", "kind": "constant"}], "hash": "95a2f3c23cb943efaa0a42c2bec7fac6", "format-version": 4, "code-base-name": "todo_backend", "filename": "todo_backend/src/models/datastore.js", "fields": [{"name": "createUser,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "id,", "scope": "createTodo.todo", "scopeKind": "class", "description": "unavailable"}, {"name": "let todoIdSeq = 1;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let userIdSeq = 1;", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"28": ""}]}